---
layout: post
title:  "Combinando Resultados com SQL com UNION"
date:   2023-09-09 18:42:47 -0300
categories: SQL
thumbnail: "https://static.wixstatic.com/media/710ee0_e06ada4c74e54048a6f0d22835e212ba~mv2.jpg/v1/fill/w_1640,h_1640,al_c,q_90/710ee0_e06ada4c74e54048a6f0d22835e212ba~mv2.webp"
excerpt: " "
---

# A Magia da Cl√°usula UNION

O SQL √© repleto de ferramentas poderosas para manipular e consultar dados. Uma dessas ferramentas √© a cl√°usula UNION, que permite combinar os resultados de duas ou mais consultas em um √∫nico conjunto de resultados. Vamos mergulhar no mundo do UNION e suas variantes para entender como elas podem ser usadas efetivamente.

<p align="center">
  <img src="https://static.wixstatic.com/media/710ee0_e06ada4c74e54048a6f0d22835e212ba~mv2.jpg/v1/fill/w_1640,h_1640,al_c,q_90/710ee0_e06ada4c74e54048a6f0d22835e212ba~mv2.webp" width="500" height="300">
</p>

## Por que a cl√°usula UNION √© importante?

Imagine que voc√™ tenha dois conjuntos de dados distintos em tabelas diferentes, mas deseja combin√°-los para uma an√°lise unificada. A cl√°usula UNION permite fazer exatamente isso, combinando resultados de m√∫ltiplas consultas.

## Entendendo UNION e suas variantes:

1. UNION:

Combina os resultados de duas ou mais consultas removendo duplicatas.

```sql
SELECT 
  nome 
FROM estudantes_2019

UNION

SELECT 
  nome 
FROM estudantes_2020;
```
Uso t√≠pico: Quando voc√™ deseja combinar listas, mas garantir que cada item apare√ßa apenas uma vez.

2. UNION ALL:

Semelhante ao UNION, mas inclui duplicatas.

```sql
SELECT 
  nome 
FROM vendedores_regiao_norte

UNION ALL

SELECT 
  nome 
FROM vendedores_regiao_sul;
```

Uso t√≠pico: Quando voc√™ deseja combinar listas e manter todas as entradas, incluindo duplicatas.

3. INTERSECT:

Retorna apenas as linhas que aparecem em ambos os conjuntos de resultados.

```sql
SELECT 
  nome 
FROM alunos_matriculados

INTERSECT

SELECT 
  nome 
FROM alunos_presentes_hoje;
```

Uso t√≠pico: Quando voc√™ deseja encontrar itens comuns entre dois conjuntos de dados.

4. EXCEPT (ou MINUS em alguns sistemas):

Retorna linhas do primeiro conjunto de resultados que n√£o aparecem no segundo.

```sql
SELECT 
  nome 
FROM todos_os_funcionarios

EXCEPT

SELECT 
  nome 
FROM funcionarios_de_ferias;
```

Uso t√≠pico: Quando voc√™ deseja encontrar itens em um conjunto de dados que n√£o est√£o em outro.

## Considera√ß√µes de Performance:

Assim como com os JOINs, as opera√ß√µes de conjunto podem ser intensivas em termos de recursos. Algumas dicas para otimizar:

Certifique-se de que as colunas que voc√™ est√° combinando tenham tipos de dados compat√≠veis.
    
Use cl√°usulas WHERE para limitar os resultados antes de combin√°-los.
    
Pense na ordem das opera√ß√µes; √†s vezes, reordenar as consultas pode melhorar a performance.

## Conclus√£o:

A cl√°usula UNION e suas variantes s√£o ferramentas essenciais para quem trabalha com SQL. Elas oferecem uma maneira flex√≠vel de combinar e contrastar conjuntos de dados, permitindo an√°lises mais ricas e insights mais profundos. Como todas as ferramentas poderosas, elas exigem pr√°tica e entendimento para serem usadas efetivamente. Mas, com o tempo e a experi√™ncia, elas se tornar√£o uma parte valiosa de sua caixa de ferramentas SQL.

[Linhares015 - üßô‚Äç‚ôÇÔ∏è](https://github.com/Linhares015)